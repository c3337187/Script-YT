# Script-YT

Утилита для добавления ссылок из буфера обмена в очередь и их скачивания с помощью **yt-dlp**.

## Установка зависимостей

Перед первым запуском убедитесь, что все необходимые пакеты установлены. Проще всего запустить:

```bash
python check_packages.py
```

Скрипт проверит наличие зависимостей и установит недостающие.

Можно установить их вручную:

```bash
pip install yt_dlp pyperclip requests beautifulsoup4 pystray keyboard pillow pywin32
```

`pywin32` требуется только на Windows.

## Использование

1. Запустите `python main_windows_strict.py` (работает только под Windows).
2. В трее появится значок. Выделите ссылку и нажмите **Ctrl+Space** (или ваше сочетание). Скрипт сам нажмёт **Ctrl+C** и добавит ссылку в `download-list.txt`.
3. Нажмите **Ctrl+Shift+Space** или пункт «Скачать» в меню значка, чтобы скачать все накопленные ссылки.
4. Через меню можно открыть папку загрузок, посмотреть `download-list.txt`, открыть `info.txt` или изменить горячие клавиши.
5. Для выхода выберите пункт «Выход».

Горячие клавиши можно изменить в любое время через пункт «Горячие клавиши» или вручную в файле `config.json`.

Все настройки хранятся рядом со скриптом в `config.json`. Файлы скачиваются в папку `Downloads`, расположенную рядом со скриптом. Внутри неё автоматически создаются подпапки для видео, плейлистов и картинок. Путь изменить нельзя.

## Сборка исполняемого файла

Для создания exe используйте PyInstaller. Не забудьте добавить файл иконки и backend pystray:

```bash
pyinstaller --onefile --windowed --icon=ico.ico \
    --add-data "ico.ico;." --hidden-import pystray._win32 \
    main_windows_strict.py
```

`info.txt` включается автоматически, поэтому пункт «Инфо» будет работать в собранной версии.

Перед сборкой убедитесь, что все зависимости установлены (`python check_packages.py` или установка вручную).

Автоматизировать процесс можно с помощью `build_exe.py`:

```bash
python build_exe.py
```

Скрипт проверит зависимости и запустит PyInstaller с нужными параметрами. После завершения вас попросят нажать любую клавишу, чтобы закрыть консоль.

Все ошибки записываются в `script.log` в папке со скриптом.
